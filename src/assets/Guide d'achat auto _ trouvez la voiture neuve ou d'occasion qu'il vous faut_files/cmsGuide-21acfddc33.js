(function(){var e,t={},a="en",i=null,n="0,0",r="undefined"!=typeof module&&module.exports;function l(e){this._value=e}function o(e,t,a,i){var n,r,l=Math.pow(10,t);return r=(a(e*l)/l).toFixed(t),i&&(n=new RegExp("0{1,"+i+"}$"),r=r.replace(n,"")),r}function s(e,i,n){return i.indexOf("$")>-1?function(e,i,n){var r,l,o=i.indexOf("$"),s=i.indexOf("("),c=i.indexOf("-"),d="";i.indexOf(" $")>-1?(d=" ",i=i.replace(" $","")):i.indexOf("$ ")>-1?(d=" ",i=i.replace("$ ","")):i=i.replace("$","");l=u(e._value,i,n),o<=1?l.indexOf("(")>-1||l.indexOf("-")>-1?(l=l.split(""),r=1,(o<s||o<c)&&(r=0),l.splice(r,0,t[a].currency.symbol+d),l=l.join("")):l=t[a].currency.symbol+d+l:l.indexOf(")")>-1?((l=l.split("")).splice(-1,0,d+t[a].currency.symbol),l=l.join("")):l=l+d+t[a].currency.symbol;return l}(e,i,n):i.indexOf("%")>-1?function(e,t,a){var i,n="",r=100*e._value;t.indexOf(" %")>-1?(n=" ",t=t.replace(" %","")):t=t.replace("%","");(i=u(r,t,a)).indexOf(")")>-1?((i=i.split("")).splice(-1,0,n+"%"),i=i.join("")):i=i+n+"%";return i}(e,i,n):i.indexOf(":")>-1?function(e){var t=Math.floor(e._value/60/60),a=Math.floor((e._value-60*t*60)/60),i=Math.round(e._value-60*t*60-60*a);return t+":"+(a<10?"0"+a:a)+":"+(i<10?"0"+i:i)}(e):u(e._value,i,n)}function c(e,n){var r,l,o,s,c,u=n,d=["KB","MB","GB","TB","PB","EB","ZB","YB"],h=!1;if(n.indexOf(":")>-1)e._value=function(e){var t=e.split(":"),a=0;3===t.length?(a+=60*Number(t[0])*60,a+=60*Number(t[1]),a+=Number(t[2])):2===t.length&&(a+=60*Number(t[0]),a+=Number(t[1]));return Number(a)}(n);else if(n===i)e._value=0;else{for("."!==t[a].delimiters.decimal&&(n=n.replace(/\./g,"").replace(t[a].delimiters.decimal,".")),r=new RegExp("[^a-zA-Z]"+t[a].abbreviations.thousand+"(?:\\)|(\\"+t[a].currency.symbol+")?(?:\\))?)?$"),l=new RegExp("[^a-zA-Z]"+t[a].abbreviations.million+"(?:\\)|(\\"+t[a].currency.symbol+")?(?:\\))?)?$"),o=new RegExp("[^a-zA-Z]"+t[a].abbreviations.billion+"(?:\\)|(\\"+t[a].currency.symbol+")?(?:\\))?)?$"),s=new RegExp("[^a-zA-Z]"+t[a].abbreviations.trillion+"(?:\\)|(\\"+t[a].currency.symbol+")?(?:\\))?)?$"),c=0;c<=d.length&&!(h=n.indexOf(d[c])>-1&&Math.pow(1024,c+1));c++);e._value=(h||1)*(u.match(r)?Math.pow(10,3):1)*(u.match(l)?Math.pow(10,6):1)*(u.match(o)?Math.pow(10,9):1)*(u.match(s)?Math.pow(10,12):1)*(n.indexOf("%")>-1?.01:1)*((n.split("-").length+Math.min(n.split("(").length-1,n.split(")").length-1))%2?1:-1)*Number(n.replace(/[^0-9\.]+/g,"")),e._value=h?Math.ceil(e._value):e._value}return e._value}function u(e,n,r){var l,s,c,u,d,h,m=!1,f=!1,p=!1,v="",g=!1,y=!1,b=!1,x=!1,_=!1,w="",k="",M=Math.abs(e),C=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],S="",O=!1;if(0===e&&null!==i)return i;if(n.indexOf("(")>-1?(m=!0,n=n.slice(1,-1)):n.indexOf("+")>-1&&(f=!0,n=n.replace(/\+/g,"")),n.indexOf("a")>-1&&(g=n.indexOf("aK")>=0,y=n.indexOf("aM")>=0,b=n.indexOf("aB")>=0,x=n.indexOf("aT")>=0,_=g||y||b||x,n.indexOf(" a")>-1?(v=" ",n=n.replace(" a","")):n=n.replace("a",""),M>=Math.pow(10,12)&&!_||x?(v+=t[a].abbreviations.trillion,e/=Math.pow(10,12)):M<Math.pow(10,12)&&M>=Math.pow(10,9)&&!_||b?(v+=t[a].abbreviations.billion,e/=Math.pow(10,9)):M<Math.pow(10,9)&&M>=Math.pow(10,6)&&!_||y?(v+=t[a].abbreviations.million,e/=Math.pow(10,6)):(M<Math.pow(10,6)&&M>=Math.pow(10,3)&&!_||g)&&(v+=t[a].abbreviations.thousand,e/=Math.pow(10,3))),n.indexOf("b")>-1)for(n.indexOf(" b")>-1?(w=" ",n=n.replace(" b","")):n=n.replace("b",""),c=0;c<=C.length;c++)if(l=Math.pow(1024,c),s=Math.pow(1024,c+1),e>=l&&e<s){w+=C[c],l>0&&(e/=l);break}return n.indexOf("o")>-1&&(n.indexOf(" o")>-1?(k=" ",n=n.replace(" o","")):n=n.replace("o",""),k+=t[a].ordinal(e)),n.indexOf("[.]")>-1&&(p=!0,n=n.replace("[.]",".")),u=e.toString().split(".")[0],d=n.split(".")[1],h=n.indexOf(","),d?(u=(S=d.indexOf("[")>-1?o(e,(d=(d=d.replace("]","")).split("["))[0].length+d[1].length,r,d[1].length):o(e,d.length,r)).split(".")[0],S=S.split(".")[1].length?t[a].delimiters.decimal+S.split(".")[1]:"",p&&0===Number(S.slice(1))&&(S="")):u=o(e,null,r),u.indexOf("-")>-1&&(u=u.slice(1),O=!0),h>-1&&(u=u.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+t[a].delimiters.thousands)),0===n.indexOf(".")&&(u=""),(m&&O?"(":"")+(!m&&O?"-":"")+(!O&&f?"+":"")+u+S+(k||"")+(v||"")+(w||"")+(m&&O?")":"")}function d(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)}function h(){return Array.prototype.slice.call(arguments).reduce(function(e,t){var a=d(e),i=d(t);return a>i?a:i},-1/0)}(e=function(t){return e.isNumeral(t)?t=t.value():0===t||void 0===t?t=0:Number(t)||(t=e.fn.unformat(t)),new l(Number(t))}).version="1.5.6",e.isNumeral=function(e){return e instanceof l},e.language=function(i,n){if(!i)return a;if(i&&!n){if(!t[i])throw new Error("Unknown language : "+i);a=i}return!n&&t[i]||function(e,a){t[e]=a}(i,n),e},e.languageData=function(e){if(!e)return t[a];if(!t[e])throw new Error("Unknown language : "+e);return t[e]},e.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$"}}),e.zeroFormat=function(e){i="string"==typeof e?e:null},e.defaultFormat=function(e){n="string"==typeof e?e:"0.0"},"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(e,t){"use strict";if(null==this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var a,i,n=this.length>>>0,r=!1;for(1<arguments.length&&(i=t,r=!0),a=0;n>a;++a)this.hasOwnProperty(a)&&(r?i=e(i,this[a],a,this):(i=this[a],r=!0));if(!r)throw new TypeError("Reduce of empty array with no initial value");return i}),e.fn=l.prototype={clone:function(){return e(this)},format:function(e,t){return s(this,e||n,void 0!==t?t:Math.round)},unformat:function(e){return"[object Number]"===Object.prototype.toString.call(e)?e:c(this,e||n)},value:function(){return this._value},valueOf:function(){return this._value},set:function(e){return this._value=Number(e),this},add:function(e){var t=h.call(null,this._value,e);return this._value=[this._value,e].reduce(function(e,a,i,n){return e+t*a},0)/t,this},subtract:function(e){var t=h.call(null,this._value,e);return this._value=[e].reduce(function(e,a,i,n){return e-t*a},this._value*t)/t,this},multiply:function(e){return this._value=[this._value,e].reduce(function(e,t,a,i){var n=h(e,t);return e*n*(t*n)/(n*n)},1),this},divide:function(e){return this._value=[this._value,e].reduce(function(e,t,a,i){var n=h(e,t);return e*n/(t*n)}),this},difference:function(t){return Math.abs(e(this._value).subtract(t).value())}},r&&(module.exports=e),"undefined"==typeof ender&&(this.numeral=e),"function"==typeof define&&define.amd&&define([],function(){return e})}).call(this),function(){var e={delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){return 1===e?"er":"e"},currency:{symbol:"â‚¬"}};"undefined"!=typeof module&&module.exports&&(module.exports=e),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("fr",e)}(),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./widget","./position","./menu"],e):e(jQuery)}(function(e){return e.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,a,i,n=this.element[0].nodeName.toLowerCase(),r="textarea"===n,l="input"===n;this.isMultiLine=!!r||!l&&this.element.prop("isContentEditable"),this.valueMethod=this.element[r||l?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return t=!0,i=!0,void(a=!0);t=!1,i=!1,a=!1;var r=e.ui.keyCode;switch(n.keyCode){case r.PAGE_UP:t=!0,this._move("previousPage",n);break;case r.PAGE_DOWN:t=!0,this._move("nextPage",n);break;case r.UP:t=!0,this._keyEvent("previous",n);break;case r.DOWN:t=!0,this._keyEvent("next",n);break;case r.ENTER:this.menu.active&&(t=!0,n.preventDefault(),this.menu.select(n));break;case r.TAB:this.menu.active&&this.menu.select(n);break;case r.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:a=!0,this._searchTimeout(n)}},keypress:function(i){if(t)return t=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||i.preventDefault());if(!a){var n=e.ui.keyCode;switch(i.keyCode){case n.PAGE_UP:this._move("previousPage",i);break;case n.PAGE_DOWN:this._move("nextPage",i);break;case n.UP:this._keyEvent("previous",i);break;case n.DOWN:this._keyEvent("next",i)}}},input:function(e){if(i)return i=!1,void e.preventDefault();this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),this._change(e))}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var a=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(i){i.target===t.element[0]||i.target===a||e.contains(a,i.target)||t.close()})})},menufocus:function(t,a){var i,n;if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)});n=a.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:n})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(n.value),(i=a.item.attr("aria-label")||n.value)&&e.trim(i).length&&(this.liveRegion.children().hide(),e("<div>").text(i).appendTo(this.liveRegion))},menuselect:function(e,t){var a=t.item.data("ui-autocomplete-item"),i=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i,this.selectedItem=a})),!1!==this._trigger("select",e,{item:a})&&this._value(a.value),this.term=this._value(),this.close(e),this.selectedItem=a}}),this.liveRegion=e("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,a,i=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(a,i){i(e.ui.autocomplete.filter(t,a.term))}):"string"==typeof this.options.source?(a=this.options.source,this.source=function(t,n){i.xhr&&i.xhr.abort(),i.xhr=e.ajax({url:a,data:t,dataType:"json",success:function(e){n(e)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),a=this.menu.element.is(":visible"),i=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;t&&(!t||a||i)||(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var a=this.menu.element.empty();this._renderMenu(a,t),this.isNewMenu=!0,this.menu.refresh(),a.show(),this._resizeMenu(),a.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,a){var i=this;e.each(a,function(e,a){i._renderItemData(t,a)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,a){return e("<li>").text(a.label).appendTo(t)},_move:function(e,t){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t);this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,a){var i=new RegExp(e.ui.autocomplete.escapeRegex(a),"i");return e.grep(t,function(e){return i.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var a;this._superApply(arguments),this.options.disabled||this.cancelSearch||(a=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(a).appendTo(this.liveRegion))}}),e.ui.autocomplete}),$(document).ready(function(){"use strict";var e,t,a,i,n,r,l,o,s,c,u,d,h=namespace("com.aramisauto.app.guide");h.search=(com.aramisauto.toolbox,com.aramisauto.config,e=$(".brand-select"),t=$(".model-select"),a=$("#brand-selector"),i=$("#model-selector"),n=$("#brands-suggestions"),r=$("#models-suggestions"),l=[],o=[],s=function(){$.ajax({url:Routing.generate("aramis_front_guide_get_brands"),cache:!0,error:function(){console.log("Une erreur technique est survenue, veuillez rÃ©essayer plus tard")}}).done(function(t){if(t){var i="";if(window.matchMedia("(max-width: 1024px)").matches)for(var r in t)t.hasOwnProperty(r)&&(i='<li class="filter-list__element ',r<5&&(i+="top-brand"),i+='" data-value="'+t[r].slug+'">'+t[r].item+"</li>",n.append(i));else for(var o in t)t.hasOwnProperty(o)&&(i='<option data-value="'+t[o].slug+'"',o<5&&(i+='class="top-brand"'),i+=">"+t[o].item+"</option>",e.append(i));$.each(n.find(".filter-list__element"),function(){l.push($(this).text())}),a.autocomplete({appendTo:".brand-filter",position:{my:"right top",at:"right+20 bottom+10",collision:"none, none"},source:function(e,t){var a=new RegExp("^"+$.ui.autocomplete.escapeRegex(e.term),"i");t($.grep(l,function(e){return a.test(e)}))}}).data("ui-autocomplete")._renderItem=function(e,t){return t.value=n.find(':contains("'+t.label+'")').data("value"),$("<li>").attr("class","filter-list__element").attr("data-value",t.value).append(t.label).appendTo(e)},$(".brand-filter .ui-autocomplete").addClass("filter-list")}})},c=function(e){var a=$(".model-filter");a.find(".filter-btn__placeholder").show(),a.find(".filter-btn__value").hide(),a.find(".search-engine-input").data("value","").val(""),$.ajax({type:"GET",url:Routing.generate("aramis_front_guide_get_models"),cache:!0,data:{brand:e},beforeSend:function(){r.empty().html(),t.addClass("disabled").children().not(":first").remove()},error:function(){r.empty(),t.children().not(":first").remove(),console.log("Une erreur technique est survenue, veuillez rÃ©essayer plus tard")}}).done(function(e){if(e){for(var a in e)e.hasOwnProperty(a)&&(window.matchMedia("(max-width: 1024px)").matches?r.append('<li class="filter-list__element" data-value="'+e[a].slug+'">'+e[a].item+"</li>"):t.append('<option data-value="'+e[a].slug+'">'+e[a].item+"</option>"));$.each(r.find(".filter-list__element"),function(){o.push($(this).text())}),i.autocomplete({appendTo:".model-filter",position:{my:"right top",at:"right+20 bottom+10",collision:"none, none"},source:function(e,t){var a=new RegExp("^"+$.ui.autocomplete.escapeRegex(e.term),"i");t($.grep(o,function(e){return a.test(e)}))}}).data("ui-autocomplete")._renderItem=function(e,t){return t.value=r.find(':contains("'+t.label+'")').data("value"),$("<li>").attr("class","filter-list__element").attr("data-value",t.value).append(t.label).appendTo(e)},$(".model-filter .ui-autocomplete").addClass("filter-list")}$(".model-filter .filter-btn--disabled").removeClass("filter-btn--disabled"),t.removeClass("disabled")})},u=function(e){var t=e.text(),a=e.data("value"),i=e.closest(".search-mobile__filter");i.find(".search-engine-input").val(t),i.find(".search-engine-input").data("value",a),i.removeClass("search-mobile__filter--open"),i.find(".filter-btn__placeholder").hide(),i.find(".filter-btn__value").text(t).show()},d=function(e,t){var a="";e&&(a+=e+"/",t&&(a+=t)),window.location.href=a},{init:function(){s(),$(".list-area").on("click",".see-all",function(e){e.preventDefault(),$(this).hide().closest(".list-area").removeClass("list-area--minimised")}),$(".search-mobile").on("keyup",".search-engine-input",function(e){var t=$(this),a=t.closest(".search-mobile__filter--open"),i=a.find(".ui-autocomplete");t.val().length&&i.children().length?a.addClass("not-empty"):a.removeClass("not-empty")}).on("click",".filter-btn:not(.filter-btn--disabled)",function(e){var t;e.preventDefault(),(t=$(this).closest(".search-mobile__filter")).toggleClass("search-mobile__filter--open"),t.find(".filter-btn__placeholder").show(),t.find(".filter-btn__value").hide()}),$(".search-mobile .brand-filter").on("click tap",".filter-list__element",function(e){var t=$(this);e.preventDefault(),c(t.text()),u(t),$(".search-mobile").find('.button[type="submit"]').removeClass("disabled")}),$(".search-mobile .model-filter").on("click tap",".filter-list__element",function(e){e.preventDefault(),u($(this))}),$(".search-desktop").on("change",".brand-select",function(){c($(this).val()),$(".search-desktop").find('.button[type="submit"]').removeClass("disabled")}),$(document).on("submit",".search-mobile",function(e){e.preventDefault(),d(a.data("value"),i.data("value"))}).on("submit",".search-desktop",function(a){a.preventDefault(),d(e.children(":selected").data("value"),t.children(":selected").data("value"))}),t.children("option").eq(0).prop("selected",!0)}}),h.search.init()}),$(document).ready(function(){"use strict";var e,t,a,i,n,r,l,o,s,c,u,d,h,m,f,p,v,g,y,b,x,_,w,k,M,C,S,O,I,T,D,$,E,F,N,j,P,R,V,B;function A(){var i,n,r=t.aramisauto.app.search.searchFormManager,l=[],o=e(".facette-level:visible").attr("id"),s=e(this);return window.matchMedia("(min-width: 768px)").matches&&e("html, body").animate({scrollTop:0},"slow"),t.aramisauto.config.aggregation.page=0,t.aramisauto.config.aggregation.p=0,delete(i=t.aramisauto.app.search.searchFormManager.setParams(s)).scroll,e(".elem-scroll").each(function(){var t=e(this);l[t.attr("class")]=t.scrollTop()}),e.ajax({url:t.aramisauto.config.aggregation.aramis_front_search_result,data:i,beforeSend:function(){e(".facette-overlay").show()},success:function(t){for(var i in r.refreshDom(t),(n=e("#"+o)).prev(".selector-items-container.menu-item").addClass("facette-open"),n.prev(".selector-items-container.menu-item").length&&a.searchFilterManager.positionningFacette(n.prev(".selector-items-container.menu-item"),n),n.show(),l)l[i]>0&&e("."+i.replace(/ /g,".")).scrollTop(l[i]);a.allCheck.run(),r.replaceUrl(t),a.alertManager.init(),a.tagLinesBehaviour.init()},error:function(){location.reload(!0)},complete:function(){e(".facette-overlay").hide()}}),delete i.ajax,t.aramisauto.toolbox.pushStateFromParams(i),!1}numeral.language("fr"),!1===(i=window.console||!1)&&i.log("no console loaded"),!1===(e=window.$||!1)&&i.log("no jquery loaded"),t=namespace("com"),a=namespace("com.aramisauto.app.search"),n=e(".vehicle-container").length+20*t.aramisauto.config.aggregation.page,a.engine=(r=e("#tag"),l=e(".btn-more-filters"),o=e(".facette-selector"),s=e("#engine"),{hideLink:function(){e("#search-comparator-link").hide(),e(".delimiter").removeClass("for-comparator")},reduce:function(){r.slideUp(),l.fadeIn().queue(function(){o.hide("blind"),s.addClass("expand"),e(this).addClass("reduce").dequeue()}),this.hideLink()},expand:function(){s.removeClass("expand"),l.removeClass("reduce").slideDown(),o.show("blind"),r.slideDown(),e("#search-comparator-link").show("blind"),e(".delimiter").addClass("for-comparator")}}),a.sticky={init:function(){var t=e("#elem-top").height(),a=e(".elem-for-sticky");function i(){e(window).scrollTop()>=t?window.matchMedia("(max-width: 767px)").matches&&a.addClass("is-sticky"):a.removeClass("is-sticky")}i(),e(document).scroll(i)}},a.serviceCall=function(){return{ajaxSearch:function(i,n){var r,l,o;o=t.aramisauto.toolbox,r=e(this),l=a.searchFormManager.setParams(r);var s=jQuery.extend({},l);o.isDefined(n)&&o.isDefined(n.preCallback)&&n.preCallback(),e(".facette-level").hide(),e(".mobile-menu-level").hide(),delete s.scroll,function(t,a,i){e.ajax({url:t,cache:!0,data:a,success:i})}(t.aramisauto.config.aggregation.aramis_front_search_result,s,function(i,n){var r=t.aramisauto.toolbox;return function(l){a.searchFormManager.refreshDom(l,i),a.searchFormManager.replaceUrl(l),a.alertManager.init(),r.isDefined(n)&&r.isDefined(n.postCallback)&&n.postCallback(),i&&(e(".facette-level").hide(),e(".mobile-menu-level").hide(),t.aramisauto.app.overlayManager.reset(e(".overlay")),e(".facette-selector > div > div.selector-items-container > a").hasClass("active")&&e(".facette-selector > div > div.selector-items-container > a").removeClass("active"))}}(i,n).bind(this)),delete l.ajax,o.pushStateFromParams(l)}}}(),a.searchFormManager=(c=t.aramisauto.toolbox,u=t.aramisauto.config,{setParams:function(){var t,a,i,n,r,l;i={},(a=e("#filters")).find("input[type=checkbox]:checked").parent().children("input[type=checkbox], input[type=hidden]").each(function(){r=e(this),t=r.attr("data-field"),c.isDefined(t)&&(c.isDefined(i[t])||(i[t]=[]),r.hasClass("funding-check")?(i[t]={},i[t].from=e("#funding-monthly-payment-from").val(),"400"!==e("#funding-monthly-payment-to").val()&&(i[t].to=e("#funding-monthly-payment-to").val())):i[t].push(r.attr("data-value")))}),a.find(".unit-filter").each(function(){r=e(this),"monthly-payment-from"!==(t=r.attr("data-field"))&&"monthly-payment-to"!==t&&("price[from]"!==t&&"price[to]"!==t||e('input[data-field="price[from]"]').attr("value")!==JSON.stringify(e(".price-slider").data("price-min"))||e('input[data-field="price[to]"]').attr("value")!==JSON.stringify(e(".price-slider").data("price-max")))&&("mileage[from]"!==t&&"mileage[to]"!==t||e('input[data-field="mileage[from]"]').attr("value")!==JSON.stringify(e(".mileage-slider").data("mileage-min"))||e('input[data-field="mileage[to]"]').attr("value")!==JSON.stringify(e(".mileage-slider").data("mileage-max")))&&("years[from]"!==t&&"years[to]"!==t||e('input[data-field="years[from]"]').attr("value")!==JSON.stringify(e(".year-slider").data("year-min"))||e('input[data-field="years[to]"]').attr("value")!==JSON.stringify(e(".year-slider").data("year-max")))&&("delay[from]"!==t&&"delay[to]"!==t||e('input[data-field="delay[from]"]').attr("value")!==JSON.stringify(e(".delay-slider").data("delay-min"))||e('input[data-field="delay[to]"]').attr("value")!==JSON.stringify(e(".delay-slider").data("delay-max")))&&c.isDefined(t)&&!c.isDefined(i[t])&&("price[to]"!==t||"price[to]"===t&&parseInt(r.attr("value"))!==parseInt(e(".price-slider").data("price-max")))&&("delay[to]"!==t||"delay[to]"===t&&parseInt(r.attr("value"))!==parseInt(e(".delay-slider").data("delay-max")))&&("delay[from]"!==t||"delay[from]"===t&&parseInt(r.attr("value"))!==parseInt(e(".delay-slider").data("delay-min")))&&(i[t]=r.attr("value"))}),a.find(".ranges-filter").find(":selected").each(function(){r=e(this),t=r.attr("data-field"),c.isDefined(t)&&(c.isDefined(i[t])||(i[t]={}),""!==r.attr("data-range-from")&&(i[t].from=r.attr("data-range-from")),""!==r.attr("data-range-to")&&(i[t].to=r.attr("data-range-to")))}),a.find(".range-filter").find(":selected").each(function(){r=e(this),t=r.attr("data-field"),l=r.attr("data-type"),c.isDefined(t)&&c.isDefined(l)&&(c.isDefined(i[t])||(i[t]={}),""!==r.val()&&(i[t][l]=r.val()))});var o=e("#search-engine-auto-suggest");return e(o).val()?(n=e(o).val(),e(o).val("")):n=e("#search-engine-input").val(),n.length>0?(i.q=n,e("#search-engine-clear-btn").show()):e("#search-engine-clear-btn").hide(),e("#sorter").find(":checked").each(function(){var t=e(this).attr("value");c.isDefined(t)&&(i.sort=t)}),i.page=u.aggregation.page,n.length>0&&e("#previous-search").val()!==n&&(e("#previous-search").val(n),e("#vehicle-type input#type-vn").attr("checked",!1),e("#vehicle-type input#type-vo").attr("checked",!1),i={q:n}),i.ajax=!0,i.scroll=e(window).scrollTop(),i.p=u.aggregation.p,i},refreshResults:function(){window.matchMedia("(min-width: 768px)").matches&&e("html, body").animate({scrollTop:0},"slow"),u.aggregation.page=0,u.aggregation.p=0,n=0,a.serviceCall.ajaxSearch(!0)},concatResults:function(e){a.serviceCall.ajaxSearch(!1,e)},concatResultsToDom:function(a,i){var r=e(i);r.find(".sponsor-bloc").detach(),a.find(".search-result-vehicles-container").append(r.children()),n=e(".vehicle-container").length+20*t.aramisauto.config.aggregation.page},refreshDom:function(i,r){var l,o,s,d,h;if(d=e("#vehicles"),c.isDefined(r)||(r=!0),c.isDefined(i.pagination)&&e("#pagination").html(i.pagination),c.isDefined(i.hits))if(r)d.html(i.hits),n=e(".vehicle-container").length+20*t.aramisauto.config.aggregation.page,i.totalHits<20?e(".more-results:not(.approx-results)").hide():"none"===e(".more-results").css("display")&&e(".more-results").show(),a.infiniteScroller.init();else if(-1===e(".search-result-vehicles-container").attr("class").indexOf("no-result"))if(u.aggregation.p<4)a.searchFormManager.concatResultsToDom(d,i.hits),n===i.totalHits&&e(".more-results").hide();else if(n<i.totalHits){var m=e(".more-results");m.show(),m.off("click"),m.on("click",function(){a.searchFormManager.concatResultsToDom(d,i.hits),e(".more-results").hide()})}if(r){if(c.isDefined(i.totalHits)){var f=document.querySelector(".found-offers");document.getElementById("totalHits").innerHTML=i.totalHits,""!==i.foundOffersText?f.innerHTML=Translator.trans("search.on.sale",{"brand-model":i.foundOffersText},"js"):i.totalHits>1?f.innerHTML=Translator.trans("search.found.offers",{},"js"):f.innerHTML=Translator.trans("search.found.offer",{},"js")}c.isDefined(i.filterSections)&&(s=i.filterSections,e(".filter-section").each(function(){l=e(this),o=l.attr("id"),c.isDefined(s[l.attr("id")])&&l.html(s[o])})),c.isDefined(i.selectedFilters)&&e("#tag").html(i.selectedFilters),(h=e('label span:contains("(0)")').parent()).parent("label").addClass("disabled_input"),h.parent().find("input").attr("disabled",!0),a.slider.run(),a.mileageSilder.init(),a.yearSilder.init(),a.priceSilder.init(),a.delaySilder.init(),a.slideshow.init(),t.aramisauto.comparator.manager.setCheck()}},replaceUrl:function(e){e.formattedUrl&&window.history.replaceState(window.history.state,"Aramisauto",e.formattedUrl)}}),a.infiniteScroller=function(i,r){var l,o,s,c,u;return l=!1,.85,c=e(window),o=function(){var i,o,s,d;i=c.scrollTop(),o=e(document).height()-e("footer").height(),s=c.height(),l=n===u,i/(o-s)>.85&&!l&&(r.aggregation.p+=1,a.searchFormManager.concatResults({preCallback:function(){u=n,t.aramisauto.comparator.manager.setCheck()},postCallback:function(){}})),d=window.location.href.replace(/(scroll=)([^&])*/,"$1"+i),window.history.replaceState(window.history.state,"Aramisauto",d)},s=function(){var e;(e=parseInt(t.aramisauto.toolbox.getUrlParameter("scroll")))>0&&setTimeout(function(){window.scrollTo(0,e)},2e3)},{init:function(){l=!1,u=0,c.off("scroll",o),c.scroll(o),s()}}}(a.serviceCall.ajaxSearch,t.aramisauto.config),a.tagManager=(d=a.searchFormManager.refreshResults,h=e("#facettes-search-form"),m=function(t){t.stopPropagation(),h.find("input").removeAttr("checked"),h.find("fieldset").filter("[data-tag]").find("select").find("option:first").prop("selected",!0),e(".facette-list button").each(function(){if("brands"===e(this).data("key")){var t=e(this).data("value").replace("Ã«","e").toLowerCase(),a=e("#search-engine-input").val().replace("Ã«","e").toLowerCase();t.indexOf(a)>=0&&e("#search-engine-input").val("")}});var i=e(".mileage-slider"),n=i.data("mileage-min"),r=i.data("mileage-max"),l=e(".year-slider"),o=l.data("year-min"),s=l.data("year-max"),c=e(".price-slider"),u=c.data("price-min"),m=c.data("price-max"),f=e(".delay-slider"),p=f.data("delay-min"),v=f.data("delay-max");a.mileageSilder.setValueInterval(n,r),a.yearSilder.setValueInterval(o,s),a.priceSilder.setValueInterval(u,m),a.delaySilder.setValueInterval(p,v),e(".facette-list").empty(),d(!0)},f=function(t){var i,n,r;if(n=(i=e(t)).data("value"),r=i.data("key"),i.detach(),i=null,h.find('input[data-value="'+n+'"]').removeAttr("checked"),h.find('input[data-tag="'+r+'"]').removeAttr("checked"),h.find('fieldset[data-tag="'+r+'"]').find("select").find("option:first").prop("selected",!0),"monthly_payments"===r&&a.slider.setValueInterval(80,400),"mileage"===r){var l=e(".mileage-slider"),o=l.data("mileage-min"),s=l.data("mileage-max");a.mileageSilder.setValueInterval(o,s)}if("years"===r){var c=e(".year-slider"),u=c.data("year-min"),m=c.data("year-max");a.yearSilder.setValueInterval(u,m)}if("price"===r){var f=e(".price-slider"),p=f.data("price-min"),v=f.data("price-max");a.priceSilder.setValueInterval(p,v)}if("delay"===r){var g=e(".delay-slider"),y=g.data("delay-min"),b=g.data("delay-max");a.delaySilder.setValueInterval(y,b)}if("brands"===r){n=n.replace("Ã«","e").toLowerCase();var x=e("#search-engine-input").val().replace("Ã«","e").toLowerCase();n.indexOf(x)>=0&&e("#search-engine-input").val("")}d(!0)},{init:function(){var t=e("#facettes-search-form");t.on("click",".facette-cleaner",function(e){m(e)}),t.on("click",".button-simple",function(e){f(e.target)})}}),a.menuSortManager=(p=a.searchFormManager.refreshDom,v=a.searchFormManager.setParams,g=a.searchFormManager.replaceUrl,x=t.aramisauto.config.aggregation.aramis_front_search_result,_=function(i){p(i,!0),g(i),a.alertManager.init(),e(".facette-level").hide(),e(".mobile-menu-level").hide(),t.aramisauto.app.overlayManager.reset(e(".overlay"))},b=function(){var a=t.aramisauto.toolbox;delete(y=v(e(this))).page,delete y.p,e.ajax({url:x,cache:!0,data:y,success:_}),delete y.ajax,a.pushStateFromParams(y)},{init:function(){e("#sorter").on("change",b)}}),a.responsiveSearch=(t.aramisauto.app.search,w=e(".block-multi-device"),k=e(".multi-device-search"),M=window.matchMedia("(max-width: 767px)"),S=function(){w.addClass("mobile-menu-level"),k.addClass("mobile-search-level"),w.hide(),k.hide()},O=function(){w.removeClass("mobile-menu-level"),k.removeClass("mobile-search-level"),w.show(),k.show()},C=function(e){e.matches?S():O()},M.matches&&S(),{init:function(){!1,!1,M.addListener(C)}}),a.allCheck={run:function(){e(".all-check").each(function(){var t="all-".length,a=e(this),i=a.attr("id").substr(t);e("."+i+"-checkbox-item:checked").length===e("."+i+"-checkbox-item").length&&a.prop("checked",!0)})}},a.slider={run:function(){var t,i;t=void 0!==(t=e(document).find(e("#funding-monthly-payment-from")).val().replace(/â‚¬/g,""))&&t>0?t:40,i=void 0!==(i=e(document).find(e("#funding-monthly-payment-to")).val().replace(/â‚¬/g,""))&&i>0?i:400,e(".funding-slider").slider({range:!0,min:40,max:400,step:10,values:[t,i],slide:function(t,i){if(i.values[1]-i.values[0]<20)return!1;a.slider.setValueInterval(i.values[0],i.values[1]),0===e("input[type=checkbox].funding-check:checked").length&&e("input[type=checkbox].funding-check").prop("checked",!0)},change:function(e){e.originalEvent&&A()}}),a.slider.setValueInterval(t,i)},setValueInterval:function(t,a){var i,n;i=e("#f-min-price-m"),n=e("#f-max-price-m"),i.html(Math.max(t,40)+"â‚¬"),400===Math.min(a,400)?n.html("400â‚¬ et +"):n.html(a+"â‚¬"),e("#funding-monthly-payment-from").val(t),e("#funding-monthly-payment-to").val(a)}},a.mileageSilder=(I=e(".mileage-slider"),T=I.data("mileage-min"),D=I.data("mileage-max"),{init:function(){var t=e(".mileage-slider"),i=t.data("mileage-low-selected"),n=t.data("mileage-high-selected"),r=[],l=T,o=500;if(T>0&&T%500!=0){var s=T,c=!1;r.push(T);do{(s+=1)%500==0&&(c=!0)}while(!c);l=s}do{r.push(l),(l+=o)>=1e4&&l<3e4?o=1e3:l>=3e4&&l<1e5?o=2e3:l>=1e5&&(o=5e3)}while(l<=D);l!==D&&r.push(D);var u=r.length-1;t.slider({range:!0,min:0,max:u,values:[r.indexOf(i),r.indexOf(n)],slide:function(e,t){if(r[t.values[1]]-r[t.values[0]]<2*o)return!1;a.mileageSilder.setValueInterval(r[t.values[0]],r[t.values[1]])},change:function(e){e.originalEvent&&A()}}),a.mileageSilder.setValueInterval(i,n)},setValueInterval:function(t,a){var i=e("#min-mileage"),n=e("#max-mileage");i.html(numeral(Math.max(t,T)).format()+"km"),n.html(numeral(Math.min(a,D)).format()+"km"),e("#mileage-from").val(Math.max(t)),e("#mileage-to").val(Math.max(a))}}),a.yearSilder=($=e(".year-slider"),E=$.data("year-min"),F=$.data("year-max"),{init:function(){var t=e(".year-slider"),i=t.data("year-low-selected"),n=t.data("year-high-selected");t.slider({range:!0,min:E,max:F,step:1,values:[i,n],slide:function(e,t){a.yearSilder.setValueInterval(t.values[0],t.values[1])},change:function(e){e.originalEvent&&A()}}),a.yearSilder.setValueInterval(i,n)},setValueInterval:function(t,a){var i=e("#min-year"),n=e("#max-year");i.html(Math.max(t,E)),n.html(Math.min(a,F)),e("#year-from").val(Math.max(t)),e("#year-to").val(Math.max(a))}}),a.priceSilder=(N=e(".price-slider"),j=N.data("price-min"),P=N.data("price-max"),{init:function(){var t=e(".price-slider"),i=t.data("price-low-selected"),n=t.data("price-high-selected");t.slider({range:!0,min:j,max:P,step:500,values:[i,n],slide:function(e,t){if(t.values[1]-t.values[0]<1e3)return!1;a.priceSilder.setValueInterval(t.values[0],t.values[1])},change:function(e){e.originalEvent&&A()}}),a.priceSilder.setValueInterval(i,n)},setValueInterval:function(t,a){var i=e("#min-price"),n=e("#max-price");i.html(numeral(Math.max(t,j)).format()+"â‚¬"),Math.min(a,P)===P?n.html(numeral(P).format()+"â‚¬ et +"):n.html(numeral(a).format()+"â‚¬"),e("#price-from").val(Math.max(t)),e("#price-to").val(Math.max(a))}}),a.delaySilder=(R=e(".delay-slider"),V=R.data("delay-min"),B=R.data("delay-max"),{init:function(){var t=e(".delay-slider"),i=t.data("delay-low-selected"),n=t.data("delay-high-selected");t.slider({range:!0,min:V,max:B,step:1,values:[i,n],slide:function(e,t){a.delaySilder.setValueInterval(t.values[0],t.values[1])},change:function(e){e.originalEvent&&A()}}),a.delaySilder.setValueInterval(i,n)},setValueInterval:function(t,a){var i=e("#min-delay"),n=e("#max-delay");i.html(numeral(Math.max(t,V)).format()+" semaines"),Math.min(a,B)===B?n.html(numeral(B).format()+" semaines et +"):n.html(numeral(a).format()+" semaines"),e("#delay-from").val(Math.max(t)),e("#delay-to").val(Math.max(a))}}),a.slideshow={init:function(){e(".result-sponsor-card:not(.sponsor-bloc-simple)").each(function(){var a=e(this);e.ajax({url:a.data("url"),cache:!0,success:function(e){a.html(e),t.aramisauto.app.cmsSlideshowFlexslider.init()}})})}},a.pager={init:function(){"function"==typeof window.atob&&e("#pagination").on("click",".pagination__container__shortcut",function(){e(location).attr("href",atob(e(this).data("pagination")))})}},a.alertManager={init:function(){var t=e(".alert-buttons"),i=e(".alert-popin");t.off("click"),t.on("click",function(){var t="";"0"===e("#totalHits").html()&&(t=e(".approx-results-details").length>0?"similar":"empty"),i.data("result-type",t),a.alertManager.openPopin(i)}),window.matchMedia("(max-width: 767px)").matches&&e(window).on("scroll",function(){0<e(window).scrollTop()?t.removeClass("alert-bell--hidden"):t.addClass("alert-bell--hidden")}),a.alertManager.initForm(i)},initForm:function(i){var n=i.find("form");n.off("submit"),n.on("submit",function(){var n=e(this),r=t.aramisauto.app.search.searchFormManager.setParams(n);delete r.page,delete r.p,delete r.sort,delete r.ajax;var l=n.serialize(),o=n.find("button"),s=n.find(".error"),c=n.find(".error.default");for(var u in s.hide(),e.addSpinner(o),l+="&result_type="+i.data("result-type"),tc_vars)l+="&tc_vars["+u+"]="+encodeURIComponent(tc_vars[u]);return e.ajax({url:n.attr("action")+"?"+e.param(r),type:n.attr("method"),data:l,success:function(t){e.removeSpinner(o),t.success?(i.html(t.html),a.alertManager.refreshCriterias(i)):void 0===t.error?c.show():s.each(function(){e(this).hasClass(t.error)&&e(this).show()})}}),!1})},openPopin:function(t){t.dialog({width:.95*e(window).width(),dialogClass:"aramis-dialog selection-dialog",modal:!0,position:{my:"center top+80",at:"center top",of:window},open:function(){var a={result_type:t.data("result-type"),tc_vars:{}};for(var i in tc_vars)a.tc_vars[i]=tc_vars[i];e.ajax({url:Routing.generate("aramis_alert_search_get_form_async_tags"),cache:!1,dataType:"json",data:a}).done(function(e){t.append(e.html)})},close:function(){e(".alert-popin-conf-container").length>0&&e.ajax({url:t.data("url"),type:"GET",success:function(e){e.html&&(t.html(e.html),a.alertManager.initForm(t))}})}}),a.alertManager.refreshCriterias(t)},refreshCriterias:function(t){var a=[],i=e("#search-engine-input").val();i.length>0&&a.push(""+i),e("#vehicle-type").find("input:checked").each(function(){a.push(e(this).next("span").html())}),e("#tag").find(".button-simple").each(function(){a.push(e(this).attr("data-value"))});var n=t.find(".criterias");if(n.empty(),0===a.length)n.html(e(".criterias-empty").html());else for(var r=0;r<a.length;r+=1){var l=e('<div class="criteria-box">'+a[r]+"</div>");n.append(l)}}},e("#vehicles").on("mouseleave",".financing-tooltip",function(){e(".financing-tooltip-bloc").hide()}),e("#vehicles").on("mouseenter mouseleave",".segment-tooltip",function(){e(this).siblings(".segment-tooltip-text").toggle()}),e(".select-vn-vo").on("mouseenter mouseleave",".search-vn-tooltip",function(){e(this).siblings(".search-vn-tooltip-content").toggle()}),e(".select-vn-vo").on("mouseenter mouseleave",".search-vo-tooltip",function(){e(this).siblings(".search-vo-tooltip-content").toggle()}),e("#new").on("mouseenter mouseleave",".search-new-tooltip",function(){e(this).siblings(".search-new-tooltip-content").toggle()}),e("#promo").on("mouseenter mouseleave",".search-promo-tooltip",function(){e(this).siblings(".search-promo-tooltip-content").toggle()});var L,U,q,H,z,K=e("#facettes-search-form");K.on("click",".all-check",function(t){var a=e(this),i=a.attr("id").substr("all-".length),n=a.is(":checked")?"checked":"";e("."+i+"-checkbox-item").prop("checked",n),A()}),K.on("click",'input[type="checkbox"]:not(".all-check")',function(e){A()}),K.on("change","select",function(e){A()}),e("#filters").on("click",".level-close-menu",function(){e(this).parent().prev().trigger("click")}),e("#search-engine-btn").on("click",function(e){A()}),e("#search-engine-input").on("keydown",function(t){13===(t.keyCode?t.keyCode:t.which)&&(e("#search-engine-btn").trigger("click"),t.preventDefault())}),e("#search-engine-clear-btn").on("click",function(t){e("#search-engine-input").val(""),A()}),a.searchFilterManager=(L=e(".main-menu-mobile"),U=e(".btn-interface.menu-item"),q=e(".elem-for-sticky"),H=e(".overlay"),{init:function(){e(document).on("click",".facette-selector .menu-item",function(){var i=e(this),n=i.next();n.is(":visible")?(function(e,t){e.removeClass("facette-open"),t.hide()}(i,n),t.aramisauto.app.overlayManager.hide(H,"searchFilter")):(window.matchMedia("(min-width: 768px)").matches&&(e(".facette-open").removeClass("facette-open"),e(".facette-level").hide()),t.aramisauto.app.overlayManager.show(H,"searchFilter"),a.searchFilterManager.positionningFacette(i,n),i.addClass("facette-open"),n.show())}),e(document).on("tap click",".overlay",function(a){a.preventDefault(),"mobileSearchFilter"===e(this).data("launched")&&(L.hide(),U.removeClass("is-enable"),q.removeClass("menu-open"),t.aramisauto.app.overlayManager.reset(H)),"searchFilter"===e(this).data("launched")&&window.matchMedia("(min-width: 768px)").matches&&(e(".menu-item").removeClass("facette-open"),e(".facette-level").hide(),t.aramisauto.app.overlayManager.reset(H))}),e(document).on("click","#search-component",function(){H.trigger("click"),e("#engine").toggle()}),e(document).on("click",".btn-interface.menu-item",function(){var a=e(this),i="btn-".length,n=a.attr("id").substr(i),r=e("."+n+"-mobile-menu.main-menu-mobile");e("#engine").hide(),U.removeClass("is-enable"),q.removeClass("menu-open"),t.aramisauto.app.overlayManager.hide(H,"mobileSearchFilter"),r.is(":visible")?L.hide():(L.hide(),r.show(),t.aramisauto.app.overlayManager.show(H,"mobileSearchFilter"),a.addClass("is-enable"),q.addClass("menu-open"),window.scrollTo(0,e("#elem-top").height()))})},positionningFacette:function(t,a){var i,n,r,l,o,s,c,u;window.matchMedia("(min-width: 768px)").matches&&(i=t.position(),n=t.height(),r=t.width()-10,l=a.width()+40,o=i.top+n,s=i.left+r/2-l/2,c=i.left+l,u=(u=s>=0?c>e(window).width()?i.left-l+r:s:20)>=0?u:20,a.css({top:o,left:u}))}}),a.vehicleInfoLink=(z=function(e){var t=e.attr("href");return""!==e.data("selectedVehicleKey")?(t+="?selectedVehicleKey="+e.data("selectedVehicleKey"),""!==e.data("vehicleId")&&(t+="&vehicleId="+e.data("vehicleId"))):""!==e.data("vehicleId")&&(t+="?vehicleId="+e.data("vehicleId")),""!==e.data("selectedFinancing")&&(t+="+selectedFinancing="+e.data("selectedFinancing")),t},{init:function(){var a=e("#vehicles");a.on("click",".vehicle-info-link",function(a){a.stopPropagation(),a.preventDefault?a.preventDefault():a.returnValue=!1;var i=z(e(this));a.ctrlKey?t.aramisauto.app.lkHandler.ctrlClick.openInNewTab(i):window.location.href=i}),a.on("mousedown auxclick",".vehicle-info-link",function(e){1===e.button&&(e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1)}),a.on("mouseup",".vehicle-info-link",function(a){var i=navigator.userAgent;if(a.ctrlKey&&(i.indexOf("Edge")>0||i.indexOf("MSIE")>0||i.indexOf("Trident")>0)||1===a.button){a.stopPropagation(),a.preventDefault?a.preventDefault():a.returnValue=!1;var n=z(e(this));t.aramisauto.app.lkHandler.ctrlClick.openInNewTab(n)}})}}),a.tagManager.init(),a.menuSortManager.init(),a.sticky.init(),a.infiniteScroller.init(),a.allCheck.run(),a.slider.run(),a.mileageSilder.init(),a.yearSilder.init(),a.priceSilder.init(),a.delaySilder.init(),a.responsiveSearch.init(),a.alertManager.init(),t.aramisauto.app.autoComplete.init(),a.slideshow.init(),a.tagLinesBehaviour.init(),a.searchFilterManager.init(),a.pager.init(),a.vehicleInfoLink.init(),e(".hide_item").removeClass("hide_item")});